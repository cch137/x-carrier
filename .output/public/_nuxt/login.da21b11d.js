import{g as m,s as Pe,k,v as q,l as A,x as te,f as ie,y as We,z as Ue,u as Ie,A as T,B as se,C as Ye,D as Xe,E as qe,o as y,c as S,m as h,F as oe,n as x,i as t,r as U,a as I,h as C,w as F,j as Y,G as ae,b as le,H as Ge,N as Je,t as X,I as Ze,J as Ee,K as Ce,L as Qe,d as et}from"./entry.506f3cf6.js";import{i as Ve,f as tt,e as ot,g as _e,b as at,h as nt,j as ne,k as ke,m as st,V as lt,v as rt,l as it,n as ut,E as B,o as ct,_ as dt,w as pt,u as ft}from"./useAuth.e44ee3e1.js";import{a as vt,b as mt,u as yt,c as gt,E as ht}from"./el-button.82fb4b1a.js";import{u as bt,E as xt}from"./useTitle.e23f3c6e.js";import{a as wt}from"./app.36c0a517.js";import"./vue.f36acd1f.2cd25342.js";const St=()=>Ve&&/firefox/i.test(window.navigator.userAgent);function It(a){return a==null}const re="update:modelValue",Et=a=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(a),Ct=["class","style"],_t=/^on[A-Z]/,kt=(a={})=>{const{excludeListeners:p=!1,excludeKeys:u}=a,o=m(()=>((u==null?void 0:u.value)||[]).concat(Ct)),i=Pe();return i?m(()=>{var s;return tt(Object.entries((s=i.proxy)==null?void 0:s.$attrs).filter(([n])=>!o.value.includes(n)&&!(p&&_t.test(n))))}):m(()=>({}))};function zt(a){const p=k();function u(){if(a.value==null)return;const{selectionStart:i,selectionEnd:s,value:n}=a.value;if(i==null||s==null)return;const f=n.slice(0,Math.max(0,i)),c=n.slice(Math.max(0,s));p.value={selectionStart:i,selectionEnd:s,value:n,beforeTxt:f,afterTxt:c}}function o(){if(a.value==null||p.value==null)return;const{value:i}=a.value,{beforeTxt:s,afterTxt:n,selectionStart:f}=p.value;if(s==null||n==null||f==null)return;let c=i.length;if(i.endsWith(n))c=i.length-n.length;else if(i.startsWith(s))c=s.length;else{const g=s[f-1],d=i.indexOf(g,f-1);d!==-1&&(c=d+1)}a.value.setSelectionRange(c,c)}return[u,o]}function Pt(a,{afterFocus:p,afterBlur:u}={}){const o=Pe(),{emit:i}=o,s=q(),n=k(!1),f=d=>{n.value||(n.value=!0,i("focus",d),p==null||p())},c=d=>{var v;d.relatedTarget&&((v=s.value)!=null&&v.contains(d.relatedTarget))||(n.value=!1,i("blur",d),u==null||u())},g=()=>{var d;(d=a.value)==null||d.focus()};return A(s,d=>{d&&d.setAttribute("tabindex","-1")}),ot(s,"click",g),{wrapperRef:s,isFocused:n,handleFocus:f,handleBlur:c}}let w;const Vt=`
  height:0 !important;
  visibility:hidden !important;
  ${St()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Tt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ft(a){const p=window.getComputedStyle(a),u=p.getPropertyValue("box-sizing"),o=Number.parseFloat(p.getPropertyValue("padding-bottom"))+Number.parseFloat(p.getPropertyValue("padding-top")),i=Number.parseFloat(p.getPropertyValue("border-bottom-width"))+Number.parseFloat(p.getPropertyValue("border-top-width"));return{contextStyle:Tt.map(n=>`${n}:${p.getPropertyValue(n)}`).join(";"),paddingSize:o,borderSize:i,boxSizing:u}}function ze(a,p=1,u){var o;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:i,borderSize:s,boxSizing:n,contextStyle:f}=Ft(a);w.setAttribute("style",`${f};${Vt}`),w.value=a.value||a.placeholder||"";let c=w.scrollHeight;const g={};n==="border-box"?c=c+s:n==="content-box"&&(c=c-i),w.value="";const d=w.scrollHeight-i;if(_e(p)){let v=d*p;n==="border-box"&&(v=v+i+s),c=Math.max(v,c),g.minHeight=`${v}px`}if(_e(u)){let v=d*u;n==="border-box"&&(v=v+i+s),c=Math.min(v,c)}return g.height=`${c}px`,(o=w.parentNode)==null||o.removeChild(w),w=void 0,g}const Lt=at({id:{type:String,default:void 0},size:nt,disabled:Boolean,modelValue:{type:ne([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ke},prefixIcon:{type:ke},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ne([Object,Array,String]),default:()=>st({})},autofocus:{type:Boolean,default:!1}}),Nt={[re]:a=>te(a),input:a=>te(a),change:a=>te(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},$t=["role"],Rt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Bt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],At=ie({name:"ElInput",inheritAttrs:!1}),Mt=ie({...At,props:Lt,emits:Nt,setup(a,{expose:p,emit:u}){const o=a,i=We(),s=Ue(),n=m(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=i["aria-haspopup"],e["aria-owns"]=i["aria-owns"],e["aria-expanded"]=i["aria-expanded"]),e}),f=m(()=>[o.type==="textarea"?ce.b():r.b(),r.m(Te.value),r.is("disabled",z.value),r.is("exceed",$e.value),{[r.b("group")]:s.prepend||s.append,[r.bm("group","append")]:s.append,[r.bm("group","prepend")]:s.prepend,[r.m("prefix")]:s.prefix||o.prefixIcon,[r.m("suffix")]:s.suffix||o.suffixIcon||o.clearable||o.showPassword,[r.bm("suffix","password-clear")]:j.value&&Z.value},i.class]),c=m(()=>[r.e("wrapper"),r.is("focus",J.value)]),g=kt({excludeKeys:m(()=>Object.keys(n.value))}),{form:d,formItem:v}=vt(),{inputId:ue}=mt(o,{formItemContext:v}),Te=yt(),z=gt(),r=Ie("input"),ce=Ie("textarea"),M=q(),E=q(),G=k(!1),L=k(!1),H=k(!1),de=k(),O=q(o.inputStyle),P=m(()=>M.value||E.value),{wrapperRef:Fe,isFocused:J,handleFocus:D,handleBlur:K}=Pt(P,{afterBlur(){var e;o.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"blur").catch(l=>void 0))}}),pe=m(()=>{var e;return(e=d==null?void 0:d.statusIcon)!=null?e:!1}),N=m(()=>(v==null?void 0:v.validateState)||""),fe=m(()=>N.value&&lt[N.value]),Le=m(()=>H.value?rt:it),Ne=m(()=>[i.style,o.inputStyle]),ve=m(()=>[o.inputStyle,O.value,{resize:o.resize}]),_=m(()=>It(o.modelValue)?"":String(o.modelValue)),j=m(()=>o.clearable&&!z.value&&!o.readonly&&!!_.value&&(J.value||G.value)),Z=m(()=>o.showPassword&&!z.value&&!o.readonly&&!!_.value&&(!!_.value||J.value)),V=m(()=>o.showWordLimit&&!!g.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!z.value&&!o.readonly&&!o.showPassword),Q=m(()=>_.value.length),$e=m(()=>!!V.value&&Q.value>Number(g.value.maxlength)),Re=m(()=>!!s.suffix||!!o.suffixIcon||j.value||o.showPassword||V.value||!!N.value&&pe.value),[Be,Ae]=zt(M);ut(E,e=>{if(Me(),!V.value||o.resize!=="both")return;const l=e[0],{width:b}=l.contentRect;de.value={right:`calc(100% - ${b+15+6}px)`}});const $=()=>{const{type:e,autosize:l}=o;if(!(!Ve||e!=="textarea"||!E.value))if(l){const b=Ee(l)?l.minRows:void 0,W=Ee(l)?l.maxRows:void 0,Se=ze(E.value,b,W);O.value={overflowY:"hidden",...Se},T(()=>{E.value.offsetHeight,O.value=Se})}else O.value={minHeight:ze(E.value).minHeight}},Me=(e=>{let l=!1;return()=>{var b;if(l||!o.autosize)return;((b=E.value)==null?void 0:b.offsetParent)===null||(e(),l=!0)}})($),R=()=>{const e=P.value,l=o.formatter?o.formatter(_.value):_.value;!e||e.value===l||(e.value=l)},ee=async e=>{Be();let{value:l}=e.target;if(o.formatter&&(l=o.parser?o.parser(l):l),!L.value){if(l===_.value){R();return}u(re,l),u("input",l),await T(),R(),Ae()}},me=e=>{u("change",e.target.value)},ye=e=>{u("compositionstart",e),L.value=!0},ge=e=>{var l;u("compositionupdate",e);const b=(l=e.target)==null?void 0:l.value,W=b[b.length-1]||"";L.value=!Et(W)},he=e=>{u("compositionend",e),L.value&&(L.value=!1,ee(e))},He=()=>{H.value=!H.value,be()},be=async()=>{var e;await T(),(e=P.value)==null||e.focus()},Oe=()=>{var e;return(e=P.value)==null?void 0:e.blur()},De=e=>{G.value=!1,u("mouseleave",e)},Ke=e=>{G.value=!0,u("mouseenter",e)},xe=e=>{u("keydown",e)},je=()=>{var e;(e=P.value)==null||e.select()},we=()=>{u(re,""),u("change",""),u("clear"),u("input","")};return A(()=>o.modelValue,()=>{var e;T(()=>$()),o.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"change").catch(l=>void 0))}),A(_,()=>R()),A(()=>o.type,async()=>{await T(),R(),$()}),se(()=>{!o.formatter&&o.parser,R(),T($)}),p({input:M,textarea:E,ref:P,textareaStyle:ve,autosize:Ye(o,"autosize"),focus:be,blur:Oe,select:je,clear:we,resizeTextarea:$}),(e,l)=>Xe((y(),S("div",ae(t(n),{class:t(f),style:t(Ne),role:e.containerRole,onMouseenter:Ke,onMouseleave:De}),[h(" input "),e.type!=="textarea"?(y(),S(oe,{key:0},[h(" prepend slot "),e.$slots.prepend?(y(),S("div",{key:0,class:x(t(r).be("group","prepend"))},[U(e.$slots,"prepend")],2)):h("v-if",!0),I("div",{ref_key:"wrapperRef",ref:Fe,class:x(t(c))},[h(" prefix slot "),e.$slots.prefix||e.prefixIcon?(y(),S("span",{key:0,class:x(t(r).e("prefix"))},[I("span",{class:x(t(r).e("prefix-inner"))},[U(e.$slots,"prefix"),e.prefixIcon?(y(),C(t(B),{key:0,class:x(t(r).e("icon"))},{default:F(()=>[(y(),C(Y(e.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),I("input",ae({id:t(ue),ref_key:"input",ref:M,class:t(r).e("inner")},t(g),{type:e.showPassword?H.value?"text":"password":e.type,disabled:t(z),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:o.form,autofocus:o.autofocus,onCompositionstart:ye,onCompositionupdate:ge,onCompositionend:he,onInput:ee,onFocus:l[0]||(l[0]=(...b)=>t(D)&&t(D)(...b)),onBlur:l[1]||(l[1]=(...b)=>t(K)&&t(K)(...b)),onChange:me,onKeydown:xe}),null,16,Rt),h(" suffix slot "),t(Re)?(y(),S("span",{key:1,class:x(t(r).e("suffix"))},[I("span",{class:x(t(r).e("suffix-inner"))},[!t(j)||!t(Z)||!t(V)?(y(),S(oe,{key:0},[U(e.$slots,"suffix"),e.suffixIcon?(y(),C(t(B),{key:0,class:x(t(r).e("icon"))},{default:F(()=>[(y(),C(Y(e.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),t(j)?(y(),C(t(B),{key:1,class:x([t(r).e("icon"),t(r).e("clear")]),onMousedown:Ge(t(Je),["prevent"]),onClick:we},{default:F(()=>[le(t(ct))]),_:1},8,["class","onMousedown"])):h("v-if",!0),t(Z)?(y(),C(t(B),{key:2,class:x([t(r).e("icon"),t(r).e("password")]),onClick:He},{default:F(()=>[(y(),C(Y(t(Le))))]),_:1},8,["class"])):h("v-if",!0),t(V)?(y(),S("span",{key:3,class:x(t(r).e("count"))},[I("span",{class:x(t(r).e("count-inner"))},X(t(Q))+" / "+X(t(g).maxlength),3)],2)):h("v-if",!0),t(N)&&t(fe)&&t(pe)?(y(),C(t(B),{key:4,class:x([t(r).e("icon"),t(r).e("validateIcon"),t(r).is("loading",t(N)==="validating")])},{default:F(()=>[(y(),C(Y(t(fe))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),e.$slots.append?(y(),S("div",{key:1,class:x(t(r).be("group","append"))},[U(e.$slots,"append")],2)):h("v-if",!0)],64)):(y(),S(oe,{key:1},[h(" textarea "),I("textarea",ae({id:t(ue),ref_key:"textarea",ref:E,class:t(ce).e("inner")},t(g),{tabindex:e.tabindex,disabled:t(z),readonly:e.readonly,autocomplete:e.autocomplete,style:t(ve),"aria-label":e.label,placeholder:e.placeholder,form:o.form,autofocus:o.autofocus,onCompositionstart:ye,onCompositionupdate:ge,onCompositionend:he,onInput:ee,onFocus:l[2]||(l[2]=(...b)=>t(D)&&t(D)(...b)),onBlur:l[3]||(l[3]=(...b)=>t(K)&&t(K)(...b)),onChange:me,onKeydown:xe}),null,16,Bt),t(V)?(y(),S("span",{key:0,style:Ze(de.value),class:x(t(r).e("count"))},X(t(Q))+" / "+X(t(g).maxlength),7)):h("v-if",!0)],64))],16,$t)),[[qe,e.type!=="hidden"]])}});var Ht=dt(Mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ot=pt(Ht);const Dt={class:"LoginWindow border border-slate-800 rounded-2xl p-4"},Kt=I("div",{class:"text-2xl text-center pt-2"},"Log In",-1),jt={class:"flex flex-col gap-4 my-4"},Wt={class:"flex-center"},Qt=ie({__name:"login",setup(a){const{login:p,isLoggedIn:u}=ft();function o(){try{document.querySelector(".LoginPinInput input").focus()}catch{}}function i(n){if(n=n.trim(),n.length==0)return o();const f=xt.service({text:"Logging in..."});p(n).finally(()=>f.close())}const s=k("");return se(()=>{setTimeout(()=>o(),0);let n=0;const f=()=>{const g=document.querySelector(".LoginWindow");g.style.setProperty("--h",`${g.clientHeight}px`),n++,++n>10&&clearInterval(c)},c=setInterval(f,100);f()}),A(u,n=>{n&&Ce("/")}),se(()=>{u.value&&Ce("/")}),bt(`Log In - ${wt}`),(n,f)=>{const c=Ot,g=ht;return y(),S("div",Dt,[Kt,I("div",jt,[I("div",null,[le(c,{class:"LoginPinInput",modelValue:t(s),"onUpdate:modelValue":f[0]||(f[0]=d=>Qe(s)?s.value=d:null),placeholder:"Pin"},null,8,["modelValue"])]),I("div",Wt,[le(g,{type:"primary",onClick:f[1]||(f[1]=d=>i(t(s)))},{default:F(()=>[et("Enter")]),_:1})])])])}}});export{Qt as default};
